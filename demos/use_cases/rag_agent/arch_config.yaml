version: v0.2.0

agents:
  - name: query_rewriter
    kind: openai
    endpoint: openai://localhost:10500
  - name: context_builder
    kind: openai
    endpoint: openai://localhost:10501
  - name: response_generator
    kind: openai
    endpoint: openai://localhost:10502
  - name: research_agent
    kind: openai
    endpoint: https://localhost:10500
  - name: input_guard_rails
    kind: openai
    endpoint: https://localhost:10503

listeners:
  - name: rag agent
    router: arch_agent_v2
    agents:
      - name: simple_rag_agent
        description: virtual assistant for device contracts.
        filter_chain:
          - query_rewriter
          - context_builder
          - response_generator
      - name: research_agent
        description: agent to research and gather information from various sources.
        filter_chain:
          - research_agent
          - response_generator
    port: 8000

  - name: llm_provider
    description: llm provider configuration
    port: 12000
    protocol: openai
    llm_providers:
      - access_key: ${OPENAI_API_KEY}
        model: openai/gpt-4o
